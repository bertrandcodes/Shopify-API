{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Button, Card, Layout, Page, ResourceList, Stack } from '@shopify/polaris';\nconst CREATE_SCRIPT_TAG = gql`\nmutation scriptTagCreate($input: ScriptTagInput!){\n    scriptTagCreate(input: $input){\n        scriptTag {\n            id\n        }\n        userErrors {\n            field\n            message\n        }\n    }\n}`;\nconst QUERY_SCRIPTTAGS = gql`\nquery{\n    scriptTags(first:5){\n      edges{\n        node{\n          id\n          src\n          displayScope\n        }\n      }\n    }\n  }\n`;\nconst DELETE_SCRIPTAG = gql`\nmutation scriptTagDelete($id: ID!){\n    scriptTagDelete(id: $id){\n        deletedScriptTagId\n    \t\tuserErrors{\n          field\n          message\n        }\n    }\n}\n`;\n\nfunction ScriptPage() {\n  const [createScripts] = useMutation(CREATE_SCRIPT_TAG);\n  const [deleteScripts] = useMutation(DELETE_SCRIPTAG);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(QUERY_SCRIPTTAGS);\n  if (loading) return __jsx(\"div\", null, \"Loading...\");\n  if (error) return __jsx(\"div\", null, error.message);\n  return __jsx(Page, null, __jsx(Layout, null));\n}\n\nexport default ScriptPage; // <div>\n//     <h1>These are the script tags right now:</h1>\n//     <button type='submit' onClick={() => {\n//         console.log(createScripts)\n//         createScripts({\n//             variables: {\n//                 input: {\n//                     src: \"https://fd8b3860e19d.ngrok.io/test-script.js\",\n//                     displayScope: \"ALL\"\n//                 }\n//             },\n//             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n//         })\n//     }}>\n//         Create Script Tag\n//     </button>\n//     {\n//         data.scriptTags.edges.map(item => {\n//             return (\n//                 <div key={item.node.id}>\n//                     <p>\n//                         {item.node.id}\n//                     </p>\n//                     <button type='submit' onClick={() => {\n//                         deleteScripts({\n//                             variables: {\n//                                 id: item.node.id\n//                             },\n//                             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n//                         })\n//                     }}>Delete Script Tag</button>\n//                 </div>\n//             )\n//         })\n//     }\n// </div >","map":{"version":3,"sources":["/Users/bertrandshao/Desktop/Repositories/Shopify-API/pages/script-page.js"],"names":["gql","useQuery","useMutation","Button","Card","Layout","Page","ResourceList","Stack","CREATE_SCRIPT_TAG","QUERY_SCRIPTTAGS","DELETE_SCRIPTAG","ScriptPage","createScripts","deleteScripts","loading","error","data","message"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,qBAAtC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,MAAvB,EAA+BC,IAA/B,EAAqCC,YAArC,EAAmDC,KAAnD,QAAgE,kBAAhE;AAEA,MAAMC,iBAAiB,GAAGT,GAAI;;;;;;;;;;;EAA9B;AAaA,MAAMU,gBAAgB,GAAGV,GAAI;;;;;;;;;;;;CAA7B;AAcA,MAAMW,eAAe,GAAGX,GAAI;;;;;;;;;;CAA5B;;AAYA,SAASY,UAAT,GAAsB;AAElB,QAAM,CAACC,aAAD,IAAkBX,WAAW,CAACO,iBAAD,CAAnC;AACA,QAAM,CAACK,aAAD,IAAkBZ,WAAW,CAACS,eAAD,CAAnC;AACA,QAAM;AAAEI,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BhB,QAAQ,CAACS,gBAAD,CAAzC;AAEA,MAAIK,OAAJ,EAAa,OAAO,gCAAP;AACb,MAAIC,KAAJ,EAAW,OAAO,mBAAMA,KAAK,CAACE,OAAZ,CAAP;AAEX,SACI,MAAC,IAAD,QACI,MAAC,MAAD,OADJ,CADJ;AAOC;;AAED,eAAeN,UAAf,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["import gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Button, Card, Layout, Page, ResourceList, Stack } from '@shopify/polaris';\n\nconst CREATE_SCRIPT_TAG = gql`\nmutation scriptTagCreate($input: ScriptTagInput!){\n    scriptTagCreate(input: $input){\n        scriptTag {\n            id\n        }\n        userErrors {\n            field\n            message\n        }\n    }\n}`;\n\nconst QUERY_SCRIPTTAGS = gql`\nquery{\n    scriptTags(first:5){\n      edges{\n        node{\n          id\n          src\n          displayScope\n        }\n      }\n    }\n  }\n`\n\nconst DELETE_SCRIPTAG = gql`\nmutation scriptTagDelete($id: ID!){\n    scriptTagDelete(id: $id){\n        deletedScriptTagId\n    \t\tuserErrors{\n          field\n          message\n        }\n    }\n}\n`\n\nfunction ScriptPage() {\n\n    const [createScripts] = useMutation(CREATE_SCRIPT_TAG)\n    const [deleteScripts] = useMutation(DELETE_SCRIPTAG)\n    const { loading, error, data } = useQuery(QUERY_SCRIPTTAGS)\n\n    if (loading) return <div>Loading...</div>\n    if (error) return <div>{error.message}</div>\n\n    return (\n        <Page>\n            <Layout>\n                \n            </Layout>\n        </Page>\n        )\n    }\n    \n    export default ScriptPage;\n\n\n    // <div>\n    //     <h1>These are the script tags right now:</h1>\n    //     <button type='submit' onClick={() => {\n    //         console.log(createScripts)\n    //         createScripts({\n    //             variables: {\n    //                 input: {\n    //                     src: \"https://fd8b3860e19d.ngrok.io/test-script.js\",\n    //                     displayScope: \"ALL\"\n    //                 }\n    //             },\n    //             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n    //         })\n    //     }}>\n    //         Create Script Tag\n    //     </button>\n\n    //     {\n    //         data.scriptTags.edges.map(item => {\n    //             return (\n    //                 <div key={item.node.id}>\n    //                     <p>\n    //                         {item.node.id}\n    //                     </p>\n    //                     <button type='submit' onClick={() => {\n    //                         deleteScripts({\n    //                             variables: {\n    //                                 id: item.node.id\n    //                             },\n    //                             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n    //                         })\n    //                     }}>Delete Script Tag</button>\n    //                 </div>\n\n    //             )\n    //         })\n    //     }\n    // </div >"]},"metadata":{},"sourceType":"module"}