{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Button, Card, Layout, Page, ResourceList, Stack } from '@shopify/polaris';\nconst CREATE_SCRIPT_TAG = gql`\nmutation scriptTagCreate($input: ScriptTagInput!){\n    scriptTagCreate(input: $input){\n        scriptTag {\n            id\n        }\n        userErrors {\n            field\n            message\n        }\n    }\n}`;\nconst QUERY_SCRIPTTAGS = gql`\nquery{\n    scriptTags(first:5){\n      edges{\n        node{\n          id\n          src\n          displayScope\n        }\n      }\n    }\n  }\n`;\nconst DELETE_SCRIPTAG = gql`\nmutation scriptTagDelete($id: ID!){\n    scriptTagDelete(id: $id){\n        deletedScriptTagId\n    \t\tuserErrors{\n          field\n          message\n        }\n    }\n}\n`;\n\nfunction ScriptPage() {\n  const [createScripts] = useMutation(CREATE_SCRIPT_TAG);\n  const [deleteScripts] = useMutation(DELETE_SCRIPTAG);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(QUERY_SCRIPTTAGS);\n  if (loading) return __jsx(\"div\", null, \"Loading...\");\n  if (error) return __jsx(\"div\", null, error.message);\n  return __jsx(Page, null, __jsx(Layout, null, __jsx(Layout.Section, null, __jsx(Card, {\n    title: \"These are the Script Tags:\",\n    sectioned: true\n  }, __jsx(\"p\", null, \"Create or delete\"))), __jsx(Layout.Section, {\n    secondary: true\n  }, __jsx(Card, {\n    title: \"Delete Tag\",\n    sectioned: true\n  }, __jsx(Button, {\n    primary: true,\n    size: \"slim\",\n    type: \"submit\",\n    onClick: () => {\n      createScripts({\n        variables: {\n          input: {\n            src: \"https://e426939d3a5e.ngrok.io/test-script.js\",\n            displayScope: \"ALL\"\n          },\n          refetchQueries: [{\n            query: QUERY_SCRIPTTAGS\n          }]\n        }\n      });\n    }\n  }, \"Create Script Tag\"))), __jsx(Layout.Section, null, __jsx(Card, null, __jsx(ResourceList, {\n    showHeader: true,\n    resourceName: {\n      singular: 'Script',\n      plural: 'Scripts'\n    },\n    items: data.scriptTags.edges,\n    renderItem: item => {\n      return __jsx(ResourceList.Item, {\n        id: item.id\n      }, __jsx(Stack, null, __jsx(Stack.Item, null, __jsx(\"p\", null, item.node.id)), __jsx(Stack.Item, null, __jsx(Button, {\n        type: \"submit\",\n        onClick: () => {\n          createScripts({\n            variables: {\n              input: {\n                src: \"https://e426939d3a5e.ngrok.io/test-script.js\",\n                displayScope: \"ALL\"\n              },\n              refetchQueries: [{\n                query: QUERY_SCRIPTTAGS\n              }]\n            }\n          });\n        }\n      }, \"Delete Script Tag\"))));\n    }\n  })))));\n}\n\nexport default ScriptPage; // <div>\n//     <h1>These are the script tags right now:</h1>\n//     <button type='submit' onClick={() => {\n//         console.log(createScripts)\n//         createScripts({\n//             variables: {\n//                 input: {\n//                     src: \"https://fd8b3860e19d.ngrok.io/test-script.js\",\n//                     displayScope: \"ALL\"\n//                 }\n//             },\n//             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n//         })\n//     }}>\n//         Create Script Tag\n//     </button>\n//     {\n//         data.scriptTags.edges.map(item => {\n//             return (\n//                 <div key={item.node.id}>\n//                     <p>\n//                         {item.node.id}\n//                     </p>\n//                     <button type='submit' onClick={() => {\n//                         deleteScripts({\n//                             variables: {\n//                                 id: item.node.id\n//                             },\n//                             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n//                         })\n//                     }}>Delete Script Tag</button>\n//                 </div>\n//             )\n//         })\n//     }\n// </div >","map":{"version":3,"sources":["/Users/bertrandshao/Desktop/Repositories/Shopify-API/pages/script-page.js"],"names":["gql","useQuery","useMutation","Button","Card","Layout","Page","ResourceList","Stack","CREATE_SCRIPT_TAG","QUERY_SCRIPTTAGS","DELETE_SCRIPTAG","ScriptPage","createScripts","deleteScripts","loading","error","data","message","variables","input","src","displayScope","refetchQueries","query","singular","plural","scriptTags","edges","item","id","node"],"mappings":"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","sourcesContent":["import gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Button, Card, Layout, Page, ResourceList, Stack } from '@shopify/polaris';\n\nconst CREATE_SCRIPT_TAG = gql`\nmutation scriptTagCreate($input: ScriptTagInput!){\n    scriptTagCreate(input: $input){\n        scriptTag {\n            id\n        }\n        userErrors {\n            field\n            message\n        }\n    }\n}`;\n\nconst QUERY_SCRIPTTAGS = gql`\nquery{\n    scriptTags(first:5){\n      edges{\n        node{\n          id\n          src\n          displayScope\n        }\n      }\n    }\n  }\n`\n\nconst DELETE_SCRIPTAG = gql`\nmutation scriptTagDelete($id: ID!){\n    scriptTagDelete(id: $id){\n        deletedScriptTagId\n    \t\tuserErrors{\n          field\n          message\n        }\n    }\n}\n`\n\nfunction ScriptPage() {\n\n    const [createScripts] = useMutation(CREATE_SCRIPT_TAG)\n    const [deleteScripts] = useMutation(DELETE_SCRIPTAG)\n    const { loading, error, data } = useQuery(QUERY_SCRIPTTAGS)\n\n    if (loading) return <div>Loading...</div>\n    if (error) return <div>{error.message}</div>\n\n    return (\n        <Page>\n            <Layout>\n                <Layout.Section>\n                    <Card title=\"These are the Script Tags:\" sectioned>\n                        <p>\n                            Create or delete\n                        </p>\n                    </Card>\n                </Layout.Section>\n                <Layout.Section secondary>\n                    <Card title=\"Delete Tag\" sectioned>\n                        <Button\n                            primary\n                            size=\"slim\"\n                            type=\"submit\" onClick={() => {\n                                createScripts({\n                                    variables: {\n                                        input: {\n                                            src: \"https://e426939d3a5e.ngrok.io/test-script.js\",\n                                            displayScope: \"ALL\"\n                                        },\n                                        refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n                                    }\n                                })\n                            }}>Create Script Tag</Button>\n                    </Card>\n                </Layout.Section>\n                <Layout.Section>\n                    <Card>\n                        <ResourceList\n                            showHeader\n                            resourceName={{ singular: 'Script', plural: 'Scripts' }}\n                            items={data.scriptTags.edges}\n                            renderItem={item => {\n                                return (\n                                    <ResourceList.Item id={item.id}>\n                                        <Stack>\n                                            <Stack.Item>\n                                                <p>\n                                                    {item.node.id}\n                                                </p>\n                                            </Stack.Item>\n                                            <Stack.Item>\n                                                <Button type='submit' onClick={() => {\n                                                    createScripts({\n                                                        variables: {\n                                                            input: {\n                                                                src: \"https://e426939d3a5e.ngrok.io/test-script.js\",\n                                                                displayScope: \"ALL\"\n                                                            },\n                                                            refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n                                                        }\n                                                    })\n                                                }}>\n                                                    Delete Script Tag\n                                                </Button>\n                                            </Stack.Item>\n                                        </Stack>\n                                    </ResourceList.Item>\n                                )\n                            }}\n                        />\n                    </Card>\n                </Layout.Section>\n            </Layout>\n        </Page>\n    )\n}\n\nexport default ScriptPage;\n\n\n    // <div>\n    //     <h1>These are the script tags right now:</h1>\n    //     <button type='submit' onClick={() => {\n    //         console.log(createScripts)\n    //         createScripts({\n    //             variables: {\n    //                 input: {\n    //                     src: \"https://fd8b3860e19d.ngrok.io/test-script.js\",\n    //                     displayScope: \"ALL\"\n    //                 }\n    //             },\n    //             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n    //         })\n    //     }}>\n    //         Create Script Tag\n    //     </button>\n\n    //     {\n    //         data.scriptTags.edges.map(item => {\n    //             return (\n    //                 <div key={item.node.id}>\n    //                     <p>\n    //                         {item.node.id}\n    //                     </p>\n    //                     <button type='submit' onClick={() => {\n    //                         deleteScripts({\n    //                             variables: {\n    //                                 id: item.node.id\n    //                             },\n    //                             refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n    //                         })\n    //                     }}>Delete Script Tag</button>\n    //                 </div>\n\n    //             )\n    //         })\n    //     }\n    // </div >"]},"metadata":{},"sourceType":"module"}